{"version":3,"file":"index.mjs","sources":["../../src/node-postgres/session.ts","../../src/node-postgres/driver.ts"],"sourcesContent":[null,null],"names":["Pool","pg","NodePgPreparedQuery","PreparedQuery","constructor","client","queryString","params","logger","fields","name","super","this","rawQuery","text","query","rowMode","execute","placeholderValues","fillPlaceholders","logQuery","joinsNotNullableMap","then","result","rows","map","row","mapResultRow","all","values","NodePgSession","PgSession","dialect","options","NoopLogger","prepareQuery","sql","async","transaction","config","session","connect","tx","NodePgTransaction","getTransactionConfigSQL","undefined","error","release","PgTransaction","savepointName","nestedIndex","raw","err","types","NodePgDriver","initMappers","createSession","setTypeParser","builtins","TIMESTAMPTZ","val","TIMESTAMP","DATE","drizzle","PgDialect","DefaultLogger","PgDatabase"],"mappings":"0VAWA,MAAMA,KAAEA,GAASC,EAIX,MAAOC,UAA2DC,EAIvEC,YACSC,EACRC,EACQC,EACAC,EACAC,EACRC,GAEAC,QAPQC,KAAMP,OAANA,EAEAO,KAAML,OAANA,EACAK,KAAMJ,OAANA,EACAI,KAAMH,OAANA,EAIRG,KAAKC,SAAW,CACfH,OACAI,KAAMR,GAEPM,KAAKG,MAAQ,CACZL,OACAI,KAAMR,EACNU,QAAS,QAEV,CAEDC,QAAQC,EAAyD,IAChE,MAAMX,EAASY,EAAiBP,KAAKL,OAAQW,GAE7CN,KAAKJ,OAAOY,SAASR,KAAKC,SAASC,KAAMP,GAEzC,MAAME,OAAEA,EAAMI,SAAEA,EAAQR,OAAEA,EAAMU,MAAEA,EAAKM,oBAAEA,GAAwBT,KACjE,IAAKH,EACJ,OAAOJ,EAAOU,MAAMF,EAAUN,GAK/B,OAFeF,EAAOU,MAAMA,EAAOR,GAErBe,MAAMC,GACnBA,EAAOC,KAAKC,KAAKC,GAAQC,EAA2BlB,EAAQiB,EAAKL,MAElE,CAEDO,IAAIV,EAAyD,IAC5D,MAAMX,EAASY,EAAiBP,KAAKL,OAAQW,GAE7C,OADAN,KAAKJ,OAAOY,SAASR,KAAKC,SAASC,KAAMP,GAClCK,KAAKP,OAAOU,MAAMH,KAAKC,SAAUN,GAAQe,MAAMC,GAAWA,EAAOC,MACxE,CAEDK,OAAOX,EAAyD,IAC/D,MAAMX,EAASY,EAAiBP,KAAKL,OAAQW,GAE7C,OADAN,KAAKJ,OAAOY,SAASR,KAAKC,SAASC,KAAMP,GAClCK,KAAKP,OAAOU,MAAMH,KAAKG,MAAOR,GAAQe,MAAMC,GAAWA,EAAOC,MACrE,EAOI,MAAOM,UAAsBC,EAGlC3B,YACSC,EACR2B,EACQC,EAAgC,CAAA,GAExCtB,MAAMqB,GAJEpB,KAAMP,OAANA,EAEAO,KAAOqB,QAAPA,EAGRrB,KAAKJ,OAASyB,EAAQzB,QAAU,IAAI0B,CACpC,CAEDC,aACCpB,EACAN,EACAC,GAEA,OAAO,IAAIR,EAAoBU,KAAKP,OAAQU,EAAMqB,IAAKrB,EAAMR,OAAQK,KAAKJ,OAAQC,EAAQC,EAC1F,CAED2B,YAAYtB,EAAeR,GAC1BK,KAAKJ,OAAOY,SAASL,EAAOR,GAM5B,aALqBK,KAAKP,OAAOU,MAAM,CACtCC,QAAS,QACTF,KAAMC,EACNc,OAAQtB,GAGT,CAED8B,mBACCtB,EACAR,GAEA,OAAOK,KAAKP,OAAOU,MAASA,EAAOR,EACnC,CAEQ8B,kBACRC,EACAC,GAEA,MAAMC,EAAU5B,KAAKP,kBAAkBL,EACpC,IAAI8B,QAAoBlB,KAAKP,OAAOoC,UAAW7B,KAAKoB,QAASpB,KAAKqB,SAClErB,KACG8B,EAAK,IAAIC,EAAkB/B,KAAKoB,QAASQ,SACzCE,EAAGzB,QAAQmB,CAAG,QAAQG,EAASH,CAAG,IAAIM,EAAGE,wBAAwBL,UAAYM,KACnF,IACC,MAAMtB,QAAee,EAAYI,GAEjC,aADMA,EAAGzB,QAAQmB,CAAG,UACbb,CACP,CAAC,MAAOuB,GAER,YADMJ,EAAGzB,QAAQmB,CAAG,YACdU,CACN,CAAS,QACLlC,KAAKP,kBAAkBL,GACzBwC,EAAQnC,OAAsB0C,SAEhC,CACD,EAGI,MAAOJ,UAA0BK,EAC7BX,kBAAqBC,GAC7B,MAAMW,EAAgB,KAAKrC,KAAKsC,YAAc,IACxCR,EAAK,IAAIC,EAAkB/B,KAAKoB,QAASpB,KAAK4B,QAAS5B,KAAKsC,YAAc,SAC1ER,EAAGzB,QAAQmB,EAAIe,IAAI,aAAaF,MACtC,IACC,MAAM1B,QAAee,EAAYI,GAEjC,aADMA,EAAGzB,QAAQmB,EAAIe,IAAI,qBAAqBF,MACvC1B,CACP,CAAC,MAAO6B,GAER,YADMV,EAAGzB,QAAQmB,EAAIe,IAAI,yBAAyBF,MAC5CG,CACN,CACD,EC3IF,MAAMC,MAAEA,GAAUpD,QAMLqD,EACZlD,YACSC,EACA2B,EACAC,EAA2B,CAAA,GAF3BrB,KAAMP,OAANA,EACAO,KAAOoB,QAAPA,EACApB,KAAOqB,QAAPA,EAERrB,KAAK2C,aACL,CAEDC,gBACC,OAAO,IAAI1B,EAAclB,KAAKP,OAAQO,KAAKoB,QAAS,CAAExB,OAAQI,KAAKqB,QAAQzB,QAC3E,CAED+C,cACCF,EAAMI,cAAcJ,EAAMK,SAASC,aAAcC,GAAQA,IACzDP,EAAMI,cAAcJ,EAAMK,SAASG,WAAYD,GAAQA,IACvDP,EAAMI,cAAcJ,EAAMK,SAASI,MAAOF,GAAQA,GAClD,WAScG,EAAQ1D,EAAsBkC,EAAwB,IACrE,MAAMP,EAAU,IAAIgC,EACpB,IAAIxD,GACkB,IAAlB+B,EAAO/B,OACVA,EAAS,IAAIyD,GACe,IAAlB1B,EAAO/B,SACjBA,EAAS+B,EAAO/B,QAEjB,MACMgC,EADS,IAAIc,EAAajD,EAAQ2B,EAAS,CAAExB,WAC5BgD,gBACvB,OAAO,IAAIU,EAAWlC,EAASQ,EAChC"}