{"version":3,"file":"index-b71998f1.mjs","sources":["../src/column.ts","../src/table.ts","../src/view.ts","../src/alias.ts","../src/subquery.ts","../src/sql/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Column","constructor","table","config","this","name","notNull","default","hasDefault","primary","primaryKey","mapFromDriverValue","value","mapToDriverValue","TableName","Symbol","Schema","Columns","OriginalName","BaseName","IsAlias","Table","schema","baseName","_a","getTableName","Name","ViewBaseConfig","View","selectedFields","query","originalName","isExisting","isAlias","ColumnAliasProxyHandler","get","columnObj","prop","TableAliasProxyHandler","alias","replaceOriginalName","tableObj","columns","proxiedColumns","Object","keys","map","key","Proxy","SubqueryConfig","Subquery","sql","selection","isWith","WithSubquery","SelectionProxyHandler","subquery","SQL","Aliased","sqlAliasedBehavior","isSelectionField","newValue","clone","sqlBehavior","Error","FakePrimitiveParam","isSQLWrapper","getSQL","StringChunk","Array","isArray","queryChunks","decoder","noopDecoder","shouldInlineParams","append","push","toQuery","buildQueryFromSourceParams","chunks","_config","assign","inlineParams","paramStartIndex","escapeName","escapeParam","prepareTyping","queries","result","params","typings","length","mergeQueries","chunk","join","undefined","i","p","entries","schemaName","tableName","viewName","Param","mappedValue","encoder","mapInlineParam","fieldAlias","escapeString","toString","mappedValueAsString","JSON","stringify","as","mapWith","isDriverValueEncoder","noopEncoder","noopMapper","param","strings","paramIndex","empty","fromList","list","raw","str","separator","Placeholder","placeholder","fillPlaceholders","values"],"mappings":"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"}