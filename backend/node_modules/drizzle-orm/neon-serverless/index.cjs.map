{"version":3,"file":"index.cjs","sources":["../../src/neon-serverless/session.ts","../../src/neon-serverless/driver.ts"],"sourcesContent":[null,null],"names":["NeonPreparedQuery","PreparedQuery","constructor","client","queryString","params","logger","fields","name","super","this","rawQuery","text","query","rowMode","execute","placeholderValues","fillPlaceholders","logQuery","joinsNotNullableMap","then","result","rows","map","row","mapResultRow","all","values","NeonSession","PgSession","dialect","options","NoopLogger","prepareQuery","sql","async","transaction","config","session","Pool","connect","tx","NeonTransaction","getTransactionConfigSQL","error","release","PgTransaction","savepointName","nestedIndex","raw","e","NeonDriver","initMappers","createSession","types","setTypeParser","builtins","TIMESTAMPTZ","val","TIMESTAMP","DATE","PgDialect","DefaultLogger","PgDatabase"],"mappings":"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"}