{"version":3,"file":"index-59b7992d.cjs","sources":["../src/column.ts","../src/table.ts","../src/view.ts","../src/alias.ts","../src/subquery.ts","../src/sql/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["Column","constructor","table","config","this","name","notNull","default","hasDefault","primary","primaryKey","mapFromDriverValue","value","mapToDriverValue","TableName","Symbol","Schema","Columns","OriginalName","BaseName","IsAlias","Table","schema","baseName","_a","Name","ViewBaseConfig","View","selectedFields","query","originalName","isExisting","isAlias","ColumnAliasProxyHandler","get","columnObj","prop","TableAliasProxyHandler","alias","replaceOriginalName","tableObj","columns","proxiedColumns","Object","keys","map","key","Proxy","SubqueryConfig","Subquery","sql","selection","isWith","SelectionProxyHandler","subquery","SQL","Aliased","sqlAliasedBehavior","isSelectionField","newValue","clone","sqlBehavior","Error","isSQLWrapper","getSQL","StringChunk","Array","isArray","queryChunks","decoder","noopDecoder","shouldInlineParams","append","push","toQuery","buildQueryFromSourceParams","chunks","_config","assign","inlineParams","paramStartIndex","escapeName","escapeParam","prepareTyping","queries","result","params","typings","length","mergeQueries","chunk","join","undefined","i","p","entries","schemaName","tableName","viewName","Param","mappedValue","encoder","mapInlineParam","fieldAlias","escapeString","toString","mappedValueAsString","JSON","stringify","as","mapWith","noopEncoder","noopMapper","strings","paramIndex","param","empty","fromList","list","raw","str","separator","Placeholder","values"],"mappings":"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"}