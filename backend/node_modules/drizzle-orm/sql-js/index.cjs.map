{"version":3,"file":"index.cjs","sources":["../../src/sql-js/session.ts","../../src/sql-js/driver.ts"],"sourcesContent":[null,null],"names":["SQLJsSession","SQLiteSession","constructor","client","dialect","options","super","this","logger","NoopLogger","prepareQuery","query","fields","stmt","prepare","sql","PreparedQuery","params","prepareOneTimeQuery","transaction","config","tx","SQLJsTransaction","run","raw","behavior","result","err","SQLiteTransaction","savepointName","nestedIndex","session","PreparedQueryBase","queryString","isOneTimeQuery","placeholderValues","fillPlaceholders","logQuery","free","all","joinsNotNullableMap","values","map","row","mapResultRow","v","normalizeFieldValue","bind","rows","step","push","getAsObject","get","value","Uint8Array","Buffer","from","TextDecoder","decode","Error","SQLiteSyncDialect","DefaultLogger","BaseSQLiteDatabase"],"mappings":"yMAiBM,MAAOA,UAAqBC,EAAAA,cAGjCC,YACSC,EACRC,EACAC,EAA+B,CAAA,GAE/BC,MAAMF,GAJEG,KAAMJ,OAANA,EAKRI,KAAKC,OAASH,EAAQG,QAAU,IAAIC,EAAUA,UAC9C,CAEDC,aACCC,EACAC,GAEA,MAAMC,EAAON,KAAKJ,OAAOW,QAAQH,EAAMI,KACvC,OAAO,IAAIC,EAAcH,EAAMF,EAAMI,IAAKJ,EAAMM,OAAQV,KAAKC,OAAQI,EACrE,CAEQM,oBACRP,EACAC,GAEA,MAAMC,EAAON,KAAKJ,OAAOW,QAAQH,EAAMI,KACvC,OAAO,IAAIC,EAAcH,EAAMF,EAAMI,IAAKJ,EAAMM,OAAQV,KAAKC,OAAQI,GAAQ,EAC7E,CAEQO,YAAeA,EAA0CC,EAAkC,IACnG,MAAMC,EAAK,IAAIC,EAAiBf,KAAKH,QAASG,MAC9CA,KAAKgB,IAAIR,EAAGA,IAACS,IAAI,SAAQJ,EAAOK,SAAW,IAAIL,EAAOK,WAAa,MACnE,IACC,MAAMC,EAASP,EAAYE,GAE3B,OADAd,KAAKgB,IAAIR,EAAAA,GAAG,UACLW,CACP,CAAC,MAAOC,GAER,MADApB,KAAKgB,IAAIR,EAAAA,GAAG,YACNY,CACN,CACD,EAGI,MAAOL,UAAyBM,EAAAA,kBAC5BT,YAAeA,GACvB,MAAMU,EAAgB,KAAKtB,KAAKuB,YAAc,IACxCT,EAAK,IAAIC,EAAiBf,KAAKH,QAASG,KAAKwB,QAASxB,KAAKuB,YAAc,GAC/ET,EAAGE,IAAIR,EAAAA,IAAIS,IAAI,aAAaK,MAC5B,IACC,MAAMH,EAASP,EAAYE,GAE3B,OADAA,EAAGE,IAAIR,EAAAA,IAAIS,IAAI,qBAAqBK,MAC7BH,CACP,CAAC,MAAOC,GAER,MADAN,EAAGE,IAAIR,EAAAA,IAAIS,IAAI,yBAAyBK,MAClCF,CACN,CACD,EAGI,MAAOX,UAA2EgB,EAAAA,cAGvF9B,YACSW,EACAoB,EACAhB,EACAT,EACAI,EACAsB,GAAiB,GAEzB5B,QAPQC,KAAIM,KAAJA,EACAN,KAAW0B,YAAXA,EACA1B,KAAMU,OAANA,EACAV,KAAMC,OAANA,EACAD,KAAMK,OAANA,EACAL,KAAc2B,eAAdA,CAGR,CAEDX,IAAIY,GACH,MAAMlB,EAASmB,EAAAA,iBAAiB7B,KAAKU,OAAQkB,GAAqB,CAAA,GAClE5B,KAAKC,OAAO6B,SAAS9B,KAAK0B,YAAahB,GACvC,MAAMS,EAASnB,KAAKM,KAAKU,IAAIN,GAM7B,OAJIV,KAAK2B,gBACR3B,KAAK+B,OAGCZ,CACP,CAEDa,IAAIJ,GACH,MAAMvB,OAAEA,EAAM4B,oBAAEA,EAAmBhC,OAAEA,EAAMyB,YAAEA,EAAWpB,KAAEA,EAAIqB,eAAEA,GAAmB3B,KACnF,GAAIK,EACH,OAAOL,KAAKkC,OAAON,GAAmBO,KAAKC,GAC1CC,eAAahC,EAAQ+B,EAAID,KAAKG,GAAMC,EAAoBD,KAAKL,KAI/D,MAAMvB,EAASmB,EAAAA,iBAAiB7B,KAAKU,OAAQkB,GAAqB,CAAA,GAClE3B,EAAO6B,SAASJ,EAAahB,GAC7BJ,EAAKkC,KAAK9B,GACV,MAAM+B,EAAiB,GACvB,KAAOnC,EAAKoC,QACXD,EAAKE,KAAKrC,EAAKsC,eAOhB,OAJIjB,GACH3B,KAAK+B,OAGCU,CACP,CAEDI,IAAIjB,GACH,MAAMlB,EAASmB,EAAAA,iBAAiB7B,KAAKU,OAAQkB,GAAqB,CAAA,GAClE5B,KAAKC,OAAO6B,SAAS9B,KAAK0B,YAAahB,GAEvC,MAAML,OAAEA,EAAMC,KAAEA,EAAIqB,eAAEA,EAAcM,oBAAEA,GAAwBjC,KAC9D,IAAKK,EAAQ,CACZ,MAAMc,EAASb,EAAKsC,YAAYlC,GAMhC,OAJIiB,GACH3B,KAAK+B,OAGCZ,CACP,CAED,MAAMiB,EAAM9B,EAAKuC,IAAInC,GAMrB,GAJIiB,GACH3B,KAAK+B,OAGDK,EAIL,OAAOC,eAAahC,EAAQ+B,EAAID,KAAKG,GAAMC,EAAoBD,KAAKL,EACpE,CAEDC,OAAON,GACN,MAAMlB,EAASmB,EAAAA,iBAAiB7B,KAAKU,OAAQkB,GAAqB,CAAA,GAClE5B,KAAKC,OAAO6B,SAAS9B,KAAK0B,YAAahB,GACvCV,KAAKM,KAAKkC,KAAK9B,GACf,MAAM+B,EAAoB,GAC1B,KAAOzC,KAAKM,KAAKoC,QAChBD,EAAKE,KAAK3C,KAAKM,KAAKuC,OAOrB,OAJI7C,KAAK2B,gBACR3B,KAAK+B,OAGCU,CACP,CAEDV,OACC,OAAO/B,KAAKM,KAAKyB,MACjB,EAGF,SAASQ,EAAoBO,GAC5B,GAAIA,aAAiBC,WAAY,CAChC,GAAsB,oBAAXC,OACV,OAAMF,aAAiBE,OAGhBF,EAFCE,OAAOC,KAAKH,GAIrB,GAA2B,oBAAhBI,YACV,OAAO,IAAIA,aAAcC,OAAOL,GAEjC,MAAM,IAAIM,MAAM,sFAChB,CACD,OAAON,CACR,oGC9KwBlD,EAAkBiB,EAAwB,IACjE,MAAMhB,EAAU,IAAIwD,EAAAA,kBACpB,IAAIpD,GACkB,IAAlBY,EAAOZ,OACVA,EAAS,IAAIqD,EAAAA,eACe,IAAlBzC,EAAOZ,SACjBA,EAASY,EAAOZ,QAEjB,MAAMuB,EAAU,IAAI/B,EAAaG,EAAQC,EAAS,CAAAI,OAAEA,IACpD,OAAO,IAAIsD,EAAkBA,mBAAC1D,EAAS2B,EACxC"}